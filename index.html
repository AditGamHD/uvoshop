<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="UVOSHOP - Toko online terpercaya untuk top-up game, voucher, pulsa, dan e-wallet">
<title>UVOSHOP - Top Up Game, Voucher & Pulsa Termurah</title>
<link rel="stylesheet" href="aditdev/style.css">
</head>
<body>
<header class="header">
<div class="container">
<div class="header-content">
<a href="#" class="logo" id="logoLink">
<img src="https://placehold.co/150x50/0b74ff/ffffff/png?text=UVOSHOP" alt="UVOSHOP Logo" id="logoImg">
</a>
<div class="search-container">
<svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<circle cx="11" cy="11" r="8"></circle>
<path d="m21 21-4.35-4.35"></path>
</svg>
<input type="text" class="search-input" id="searchInput" placeholder="Cari produk...">
</div>
<button class="menu-toggle" id="menuToggle" aria-label="Menu">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<line x1="3" y1="12" x2="21" y2="12"></line>
<line x1="3" y1="6" x2="21" y2="6"></line>
<line x1="3" y1="18" x2="21" y2="18"></line>
</svg>
</button>
</div>
</div>
</header>

<main class="main" id="mainContent">
<div class="home-view" id="homeView">
<section class="banner-section">
<div class="container">
<div class="banner-carousel" id="bannerCarousel">
<div class="banner-slides" id="bannerSlides">
<div class="banner-slide active">
<img src="https://placehold.co/1200x675/0b74ff/ffffff/png?text=Promo+Spesial+UVOSHOP" alt="Banner 1" loading="lazy">
</div>
<div class="banner-slide">
<img src="https://placehold.co/1200x675/ff7a59/ffffff/png?text=Top+Up+Game+Termurah" alt="Banner 2" loading="lazy">
</div>
<div class="banner-slide">
<img src="https://placehold.co/1200x675/00a86b/ffffff/png?text=Pembayaran+Mudah" alt="Banner 3" loading="lazy">
</div>
<div class="banner-slide">
<img src="https://placehold.co/1200x675/9b59b6/ffffff/png?text=Proses+Cepat+Otomatis" alt="Banner 4" loading="lazy">
</div>
<div class="banner-slide">
<img src="https://placehold.co/1200x675/e74c3c/ffffff/png?text=Terpercaya+Sejak+2023" alt="Banner 5" loading="lazy">
</div>
</div>
<button class="banner-nav banner-prev" id="bannerPrev" aria-label="Previous">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<polyline points="15 18 9 12 15 6"></polyline>
</svg>
</button>
<button class="banner-nav banner-next" id="bannerNext" aria-label="Next">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<polyline points="9 18 15 12 9 6"></polyline>
</svg>
</button>
<div class="banner-dots" id="bannerDots"></div>
</div>
</div>
</section>

<section class="categories-section">
<div class="container">
<h2 class="section-title">Kategori</h2>
<div class="categories-scroll">
<div class="categories-grid" id="categoriesGrid">
<button class="category-card active" data-category="all">
<svg class="category-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<rect x="3" y="3" width="7" height="7"></rect>
<rect x="14" y="3" width="7" height="7"></rect>
<rect x="14" y="14" width="7" height="7"></rect>
<rect x="3" y="14" width="7" height="7"></rect>
</svg>
<span>Semua</span>
</button>
</div>
</div>
</div>
</section>

<section class="products-section">
<div class="container">
<div class="products-header">
<h2 class="section-title">Produk Tersedia</h2>
<div class="filter-controls">
<select class="filter-select" id="sortSelect">
<option value="">Urutkan</option>
<option value="price-asc">Harga: Rendah - Tinggi</option>
<option value="price-desc">Harga: Tinggi - Rendah</option>
</select>
<label class="filter-toggle">
<input type="checkbox" id="rekomToggle">
<span>Rekomendasi</span>
</label>
</div>
</div>
<div class="products-grid" id="productsGrid">
<div class="loading-state">Memuat produk...</div>
</div>
</div>
</section>
</div>

<div class="product-view hidden" id="productView">
<div class="container">
<button class="back-btn" id="backBtn">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<polyline points="15 18 9 12 15 6"></polyline>
</svg>
Kembali
</button>
<div class="product-detail" id="productDetail"></div>
</div>
</div>
</main>

<footer class="footer">
<div class="container">
<div class="footer-content">
<img src="https://placehold.co/120x40/0b74ff/ffffff/png?text=UVOSHOP" alt="UVOSHOP" class="footer-logo">
<p class="footer-copyright">© 2023 - <span id="currentYear"></span> UVOSHOP</p>
<div class="footer-social">
<a href="#" aria-label="Instagram">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
<path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
<line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
</svg>
</a>
<a href="#" aria-label="Facebook">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
</svg>
</a>
</div>
</div>
</div>
</footer>

<div class="modal hidden" id="previewModal">
<div class="modal-overlay" id="modalOverlay"></div>
<div class="modal-content">
<div class="modal-header">
<h3>Preview Pesanan</h3>
<button class="modal-close" id="modalClose">
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<line x1="18" y1="6" x2="6" y2="18"></line>
<line x1="6" y1="6" x2="18" y2="18"></line>
</svg>
</button>
</div>
<div class="modal-body" id="modalBody"></div>
<div class="modal-actions">
<button class="btn btn-secondary" id="copyBtn">Copy Pesan</button>
<button class="btn btn-primary" id="sendWaBtn">Kirim via WhatsApp</button>
</div>
</div>
</div>

<script src="aditdev/aditdev.js"></script>

<!--
README - UVOSHOP DARK THEME

## Struktur File
index.html - Halaman utama (file ini)
aditdev/uvoshop.json - Data produk (buat file ini terpisah)

## Setup Cepat

1. Buat folder "aditdev"
2. Buat file "aditdev/uvoshop.json" dengan konten:

{
  "products": [
    {
      "id": "uvo-ff-70",
      "nama": "UC Free Fire 70DM",
      "harga": "10000",
      "gambar": "https://placehold.co/400x300/0b74ff/ffffff/png?text=FF+70DM",
      "kategori": "Free Fire",
      "items": ["70dm-10k","100dm-15k","200dm-28k","400dm-55k"],
      "zona": ["Asia","Europe"],
      "rekomendasi": true
    }
  ]
}

3. Kustomisasi di bagian CONFIG (dalam <script>):
   - WA_NUMBER: Nomor WhatsApp Anda
   - LOGO_URL: URL logo Anda
   - JSON_PATH: Path ke file JSON (default: aditdev/uvoshop.json)

## Cara Kustomisasi

### Mengganti Nomor WhatsApp
Cari baris: WA_NUMBER: '6285648211278'
Ganti dengan nomor Anda (format: 62xxx tanpa +)

### Mengganti Logo
Cari baris: LOGO_URL: 'https://...'
Ganti dengan URL logo Anda

### Menambah/Edit Produk
Edit file aditdev/uvoshop.json:
- id: Unique identifier (wajib unik)
- nama: Nama produk
- harga: Harga dasar (angka tanpa titik/koma)
- gambar: URL gambar produk
- kategori: Kategori (Free Fire, Mobile Legends, Pulsa, dll)
- items: Array pilihan item (format: "jumlah-harga", contoh: "70dm-10k")
- zona: Array zona (opsional, bisa kosong: [])
- rekomendasi: true/false

### Mengganti Warna Tema
Cari bagian :root di <style>:
- --primary: Warna utama (biru)
- --secondary: Warna sekunder (orange)
- --success: Warna sukses (hijau)
- --bg-dark: Background gelap utama
- --bg-card: Background card
- --bg-elevated: Background elevated
- --bg-hover: Background hover

## Fitur
✓ Mobile-first responsive design
✓ Dark theme modern
✓ Banner carousel auto-play
✓ Real-time search dengan debounce
✓ Filter kategori & sort harga
✓ Lazy loading images
✓ Cache produk (6 jam)
✓ WhatsApp integration
✓ Multiple payment methods
✓ Smooth animations
✓ Offline fallback

## Browser Support
- Chrome/Edge 90+
- Firefox 88+
- Safari 14+
- Mobile browsers (iOS Safari, Chrome Mobile)

## Performance Tips
- Gunakan gambar dengan ukuran optimal (max 400x300px untuk thumbnail)
- Format gambar: WebP atau JPG dengan kompresi 80%
- Cache akan otomatis refresh setiap 6 jam
- Lazy loading aktif untuk semua gambar

## Troubleshooting

Q: Produk tidak muncul?
A: Pastikan file aditdev/uvoshop.json ada dan format JSON valid

Q: Banner tidak jalan?
A: Check console browser untuk error, pastikan gambar banner loading

Q: WhatsApp tidak terbuka?
A: Pastikan nomor WA benar (format: 62xxx tanpa +)

## License
© 2023 - 2025 UVOSHOP
-->

<style>
:root {
  --primary: #0b74ff;
  --secondary: #ff7a59;
  --success: #00a86b;
  --bg-dark: #0a0a0a;
  --bg-card: #1a1a1a;
  --bg-elevated: #242424;
  --bg-hover: #2d2d2d;
  --text-primary: #ffffff;
  --text-secondary: #b0b0b0;
  --text-muted: #666666;
  --border: #333333;
  --shadow: rgba(0, 0, 0, 0.5);
  --radius: 12px;
  --radius-sm: 8px;
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: var(--bg-dark);
  color: var(--text-primary);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;
}

.header {
  background: var(--bg-card);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 100;
  backdrop-filter: blur(10px);
  background: rgba(26, 26, 26, 0.95);
}

.header-content {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px 0;
}

.logo img {
  height: 36px;
  display: block;
  transition: var(--transition);
}

.logo:hover img {
  transform: scale(1.05);
}

.search-container {
  flex: 1;
  position: relative;
  max-width: 400px;
}

.search-icon {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  pointer-events: none;
}

.search-input {
  width: 100%;
  padding: 10px 12px 10px 40px;
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-primary);
  font-size: 14px;
  transition: var(--transition);
}

.search-input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(11, 116, 255, 0.1);
}

.menu-toggle {
  display: none;
  background: none;
  border: none;
  color: var(--text-primary);
  cursor: pointer;
  padding: 8px;
}

.main {
  min-height: calc(100vh - 200px);
  padding: 24px 0;
}

.banner-section {
  margin-bottom: 32px;
}

.banner-carousel {
  position: relative;
  border-radius: var(--radius);
  overflow: hidden;
  background: var(--bg-card);
  aspect-ratio: 16/9;
}

.banner-slides {
  display: flex;
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  height: 100%;
}

.banner-slide {
  min-width: 100%;
  opacity: 0;
  transition: opacity 0.5s ease;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.banner-slide.active {
  opacity: 1;
  position: relative;
}

.banner-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.banner-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(26, 26, 26, 0.8);
  border: none;
  color: var(--text-primary);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
  backdrop-filter: blur(5px);
  z-index: 10;
}

.banner-nav:hover {
  background: rgba(11, 116, 255, 0.9);
  transform: translateY(-50%) scale(1.1);
}

.banner-prev {
  left: 16px;
}

.banner-next {
  right: 16px;
}

.banner-dots {
  position: absolute;
  bottom: 16px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px;
  z-index: 10;
}

.banner-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  border: none;
  cursor: pointer;
  transition: var(--transition);
  padding: 0;
}

.banner-dot.active {
  background: var(--primary);
  width: 24px;
  border-radius: 4px;
}

.section-title {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 20px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.categories-section {
  margin-bottom: 32px;
}

.categories-scroll {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.categories-scroll::-webkit-scrollbar {
  display: none;
}

.categories-grid {
  display: flex;
  gap: 12px;
  padding: 4px 0;
}

.category-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 16px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  cursor: pointer;
  transition: var(--transition);
  min-width: 100px;
  white-space: nowrap;
  color: var(--text-primary);
  font-size: 14px;
  font-weight: 500;
}

.category-card:hover {
  background: var(--bg-hover);
  transform: translateY(-2px);
  border-color: var(--primary);
}

.category-card.active {
  background: linear-gradient(135deg, var(--primary), #0856cc);
  border-color: var(--primary);
  box-shadow: 0 4px 12px rgba(11, 116, 255, 0.3);
}

.category-icon {
  color: currentColor;
}

.products-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  flex-wrap: wrap;
  gap: 16px;
}

.filter-controls {
  display: flex;
  gap: 12px;
  align-items: center;
}

.filter-select {
  padding: 8px 12px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-primary);
  font-size: 14px;
  cursor: pointer;
  transition: var(--transition);
}

.filter-select:focus {
  outline: none;
  border-color: var(--primary);
}

.filter-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 14px;
  color: var(--text-secondary);
  user-select: none;
}

.filter-toggle input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: var(--primary);
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

@media (min-width: 640px) {
  .products-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 1024px) {
  .products-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

.product-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  animation: fadeInUp 0.5s ease;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.product-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px var(--shadow);
  border-color: var(--primary);
}

.product-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  background: linear-gradient(135deg, var(--secondary), #ff5733);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  z-index: 5;
  box-shadow: 0 2px 8px rgba(255, 122, 89, 0.4);
}

.product-image {
  width: 100%;
  aspect-ratio: 4/3;
  object-fit: cover;
  background: var(--bg-elevated);
}

.product-info {
  padding: 12px;
}

.product-name {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 8px;
  color: var(--text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.product-price {
  font-size: 16px;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 12px;
}

.product-btn {
  width: 100%;
  padding: 10px;
  background: linear-gradient(135deg, var(--primary), #0856cc);
  color: white;
  border: none;
  border-radius: var(--radius-sm);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  font-size: 14px;
}

.product-btn:hover {
  box-shadow: 0 4px 12px rgba(11, 116, 255, 0.4);
  transform: scale(1.02);
}

.loading-state, .error-state, .empty-state {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-secondary);
  grid-column: 1 / -1;
}

.product-view {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.hidden {
  display: none !important;
}

.back-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-primary);
  cursor: pointer;
  transition: var(--transition);
  margin-bottom: 24px;
  font-size: 14px;
  font-weight: 500;
}

.back-btn:hover {
  background: var(--bg-hover);
  border-color: var(--primary);
}

.product-detail {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}

.detail-image {
  width: 100%;
  max-height: 400px;
  object-fit: cover;
  background: var(--bg-elevated);
}

.detail-content {
  padding: 24px;
}

.detail-title {
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 16px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.detail-price {
  font-size: 32px;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 24px;
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  font-size: 14px;
  color: var(--text-primary);
}

.form-input, .form-select {
  width: 100%;
  padding: 12px;
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-primary);
  font-size: 14px;
  transition: var(--transition);
}

.form-input:focus, .form-select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(11, 116, 255, 0.1);
}

.payment-methods {
  margin-bottom: 24px;
}

.payment-grid {
  display: grid;
  gap: 12px;
}

.payment-option {
  display: flex;
  align-items: center;
  padding: 12px;
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: var(--transition);
}

.payment-option:hover {
  background: var(--bg-hover);
  border-color: var(--primary);
}

.payment-option input[type="radio"] {
  margin-right: 12px;
  accent-color: var(--primary);
  width: 18px;
  height: 18px;
}

.payment-info {
  flex: 1;
}

.payment-name {
  font-weight: 600;
  font-size: 14px;
  color: var(--text-primary);
  margin-bottom: 2px;
}

.payment-desc {
  font-size: 12px;
  color: var(--text-secondary);
}

.payment-icon {
  width: 32px;
  height: 32px;
  margin-left: 12px;
}

.btn {
  padding: 14px 24px;
  border: none;
  border-radius: var(--radius-sm);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  font-size: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary), #0856cc);
  color: white;
}

.btn-primary:hover {
  box-shadow: 0 6px 20px rgba(11, 116, 255, 0.4);
  transform: translateY(-2px);
}

.btn-secondary {
  background: var(--bg-elevated);
  color: var(--text-primary);
  border: 1px solid var(--border);
}

.btn-secondary:hover {
  background: var(--bg-hover);
}

.footer {
  background: var(--bg-card);
  border-top: 1px solid var(--border);
  padding: 24px 0;
  margin-top: 48px;
}

.footer-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  text-align: center;
}

.footer-logo {
  height: 32px;
}

.footer-copyright {
  color: var(--text-secondary);
  font-size: 14px;
}

.footer-social {
  display: flex;
  gap: 16px;
}

.footer-social a {
  color: var(--text-secondary);
  transition: var(--transition);
}

.footer-social a:hover {
  color: var(--primary);
  transform: scale(1.1);
}

.modal {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  animation: fadeIn 0.3s ease;
}

.modal-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(4px);
}

.modal-content {
  position: relative;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  max-width: 500px;
  width: 100%;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid var(--border);
}

.modal-header h3 {
  font-size: 20px;
  font-weight: 700;
}

.modal-close {
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 4px;
  transition: var(--transition);
}

.modal-close:hover {
  color: var(--primary);
}

.modal-body {
  padding: 20px;
  overflow-y: auto;
  flex: 1;
}

.modal-body pre {
  background: var(--bg-elevated);
  padding: 16px;
  border-radius: var(--radius-sm);
  font-size: 14px;
  line-height: 1.6;
  color: var(--text-primary);
  white-space: pre-wrap;
  word-wrap: break-word;
}

.modal-actions {
  display: flex;
  gap: 12px;
  padding: 20px;
  border-top: 1px solid var(--border);
}

.modal-actions .btn {
  flex: 1;
}

@media (max-width: 640px) {
  .search-container {
    max-width: 100%;
  }
  
  .products-grid {
    gap: 12px;
  }
  
  .banner-nav {
    width: 32px;
    height: 32px;
  }
  
  .banner-prev {
    left: 8px;
  }
  
  .banner-next {
    right: 8px;
  }
  
  .detail-title {
    font-size: 24px;
  }
  
  .detail-price {
    font-size: 28px;
  }
  
  .modal-actions {
    flex-direction: column;
  }
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
</style>

<script>
const CONFIG = {
  WA_NUMBER: '6285648211278',
  LOGO_URL: 'https://placehold.co/150x50/0b74ff/ffffff/png?text=UVOSHOP',
  JSON_PATH: 'aditdev/uvoshop.json',
  CACHE_TTL: 6 * 60 * 60 * 1000,
  BANNER_INTERVAL: 4000,
  SEARCH_DEBOUNCE: 250
};

let products = [];
let filteredProducts = [];
let currentCategory = 'all';
let currentSort = '';
let showRekomOnly = false;
let bannerInterval;
let currentSlide = 0;

const categories = [
  { id: 'all', name: 'Semua', icon: '<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>' },
  { id: 'Free Fire', name: 'Free Fire', icon: '<path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>' },
  { id: 'Mobile Legends', name: 'Mobile Legends', icon: '<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>' },
  { id: 'Pulsa', name: 'Pulsa', icon: '<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>' },
  { id: 'Garena', name: 'Garena', icon: '<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>' },
  { id: 'E-Wallet', name: 'E-Wallet', icon: '<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>' },
  { id: 'Virtual Account', name: 'Virtual Account', icon: '<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>' }
];

const paymentMethods = [
  { id: 'uvocoin', name: 'UVOCOIN', desc: 'Proses otomatis', category: 'rekomendasi' },
  { id: 'qris', name: 'QRIS', desc: 'Scan & bayar', category: 'rekomendasi' },
  { id: 'tunai', name: 'Tunai', desc: 'Konfirmasi manual', category: 'rekomendasi' },
  { id: 'dana', name: 'Dana', desc: 'E-wallet populer', category: 'ewallet' },
  { id: 'ovo', name: 'OVO', desc: 'E-wallet cepat', category: 'ewallet' },
  { id: 'shopeepay', name: 'ShopeePay', desc: 'Bayar dengan Shopee', category: 'ewallet' },
  { id: 'gopay', name: 'GoPay', desc: 'E-wallet Gojek', category: 'ewallet' },
  { id: 'bca', name: 'BCA Virtual Account', desc: 'Transfer via BCA', category: 'va' },
  { id: 'mandiri', name: 'Mandiri Virtual Account', desc: 'Transfer via Mandiri', category: 'va' },
  { id: 'bni', name: 'BNI Virtual Account', desc: 'Transfer via BNI', category: 'va' },
  { id: 'bri', name: 'BRI Virtual Account (BRIVA)', desc: 'Transfer via BRI', category: 'va' },
  { id: 'permata', name: 'Permata Virtual Account', desc: 'Transfer via Permata', category: 'va' }
];

function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

function formatPrice(price) {
  return `Rp ${parseInt(price).toLocaleString('id-ID')}`;
}

function parseItemPrice(item) {
  const match = item.match(/(\d+(?:[.,]\d+)?)[kK]?$/);
  if (match) {
    const num = match[1].replace(',', '.');
    return Math.round(parseFloat(num) * 1000);
  }
  return 0;
}

async function fetchProducts() {
  const cached = localStorage.getItem('uvoshop_cache');
  const cacheTime = localStorage.getItem('uvoshop_cache_time');
  
  if (cached && cacheTime && Date.now() - parseInt(cacheTime) < CONFIG.CACHE_TTL) {
    try {
      return JSON.parse(cached);
    } catch (e) {
      console.error('Cache parse error:', e);
    }
  }
  
  try {
    const response = await fetch(CONFIG.JSON_PATH);
    if (!response.ok) throw new Error('Failed to fetch');
    const data = await response.json();
    
    localStorage.setItem('uvoshop_cache', JSON.stringify(data));
    localStorage.setItem('uvoshop_cache_time', Date.now().toString());
    
    return data;
  } catch (error) {
    console.error('Fetch error, using inline data:', error);
    const inlineData = document.getElementById('uvoshop-data');
    if (inlineData) {
      try {
        return JSON.parse(inlineData.textContent);
      } catch (e) {
        console.error('Inline data parse error:', e);
      }
    }
    showError();
    return null;
  }
}

function showError() {
  const grid = document.getElementById('productsGrid');
  grid.innerHTML = `
    <div class="error-state">
      <p>Gagal memuat produk. Silakan coba lagi.</p>
      <button class="btn btn-primary" onclick="init()" style="margin-top: 16px;">Muat Ulang</button>
    </div>
  `;
}

function filterProducts() {
  filteredProducts = products.filter(p => {
    if (currentCategory !== 'all' && p.kategori !== currentCategory) return false;
    if (showRekomOnly && !p.rekomendasi) return false;
    return true;
  });
  
  if (currentSort === 'price-asc') {
    filteredProducts.sort((a, b) => parseInt(a.harga) - parseInt(b.harga));
  } else if (currentSort === 'price-desc') {
    filteredProducts.sort((a, b) => parseInt(b.harga) - parseInt(a.harga));
  }
}

function searchProducts(query) {
  if (!query) {
    filterProducts();
    renderProducts();
    return;
  }
  
  const lowerQuery = query.toLowerCase();
  filteredProducts = products.filter(p => {
    const matchesQuery = p.nama.toLowerCase().includes(lowerQuery) || 
                        p.kategori.toLowerCase().includes(lowerQuery);
    const matchesCategory = currentCategory === 'all' || p.kategori === currentCategory;
    const matchesRekom = !showRekomOnly || p.rekomendasi;
    return matchesQuery && matchesCategory && matchesRekom;
  });
  
  renderProducts();
}

function renderCategories() {
  const grid = document.getElementById('categoriesGrid');
  const productCategories = [...new Set(products.map(p => p.kategori))];
  const availableCategories = [categories[0], ...categories.filter(c => 
    c.id !== 'all' && productCategories.includes(c.id)
  )];
  
  grid.innerHTML = availableCategories.map(cat => `
    <button class="category-card ${currentCategory === cat.id ? 'active' : ''}" 
            data-category="${cat.id}">
      <svg class="category-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" 
           stroke="currentColor" stroke-width="2">
        ${cat.icon}
      </svg>
      <span>${cat.name}</span>
    </button>
  `).join('');
  
  grid.querySelectorAll('.category-card').forEach(btn => {
    btn.addEventListener('click', () => {
      currentCategory = btn.dataset.category;
      document.querySelectorAll('.category-card').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      filterProducts();
      renderProducts();
    });
  });
}

function renderProducts() {
  const grid = document.getElementById('productsGrid');
  
  if (filteredProducts.length === 0) {
    grid.innerHTML = '<div class="empty-state">Tidak ada produk ditemukan</div>';
    return;
  }
  
  grid.innerHTML = filteredProducts.map((p, i) => `
    <div class="product-card" data-id="${p.id}" style="animation-delay: ${i * 0.05}s">
      ${p.rekomendasi ? '<div class="product-badge">Rekomendasi</div>' : ''}
      <img src="${p.gambar}" alt="${p.nama}" class="product-image" loading="lazy">
      <div class="product-info">
        <div class="product-name">${p.nama}</div>
        <div class="product-price">${formatPrice(p.harga)}</div>
        <button class="product-btn">Pilih</button>
      </div>
    </div>
  `).join('');
  
  grid.querySelectorAll('.product-card').forEach(card => {
    card.addEventListener('click', () => {
      const id = card.dataset.id;
      window.location.hash = `product?id=${id}`;
    });
  });
  
  lazyLoadImages();
}

function lazyLoadImages() {
  if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          if (img.dataset.src) {
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
          }
          imageObserver.unobserve(img);
        }
      });
    });
    
    document.querySelectorAll('img[data-src]').forEach(img => imageObserver.observe(img));
  }
}

function renderProductDetail(id) {
  const product = products.find(p => p.id === id);
  if (!product) {
    window.location.hash = '';
    return;
  }
  
  document.getElementById('homeView').classList.add('hidden');
  document.getElementById('productView').classList.remove('hidden');
  
  const now = new Date();
  const dateStr = now.toLocaleString('id-ID', {
    weekday: 'long',
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
  });
  
  const detail = document.getElementById('productDetail');
  detail.innerHTML = `
    <img src="${product.gambar}" alt="${product.nama}" class="detail-image">
    <div class="detail-content">
      <h1 class="detail-title">${product.nama}</h1>
      <div class="detail-price" id="displayPrice">${formatPrice(product.harga)}</div>
      
      <form id="orderForm">
        <div class="form-group">
          <label class="form-label">Pilih Item</label>
          <select class="form-select" id="itemSelect" required>
            <option value="">-- Pilih Item --</option>
            ${product.items.map(item => `<option value="${item}">${item}</option>`).join('')}
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label">User ID *</label>
          <input type="text" class="form-input" id="userIdInput" required 
                 placeholder="Masukkan User ID">
        </div>
        
        ${product.zona && product.zona.length > 0 ? `
        <div class="form-group">
          <label class="form-label">Zona</label>
          <select class="form-select" id="zonaSelect">
            <option value="">-- Pilih Zona (Opsional) --</option>
            ${product.zona.map(z => `<option value="${z}">${z}</option>`).join('')}
          </select>
        </div>
        ` : ''}
        
        <div class="form-group">
          <label class="form-label">Tanggal</label>
          <input type="text" class="form-input" id="dateInput" value="${dateStr}" readonly>
        </div>
        
        <div class="payment-methods">
          <label class="form-label">Metode Pembayaran *</label>
          <div class="payment-grid">
            ${paymentMethods.map(pm => `
              <label class="payment-option">
                <input type="radio" name="payment" value="${pm.id}" required>
                <div class="payment-info">
                  <div class="payment-name">${pm.name}</div>
                  <div class="payment-desc">${pm.desc}</div>
                </div>
                <svg class="payment-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="9 12 11 14 15 10"></polyline>
                </svg>
              </label>
            `).join('')}
          </div>
        </div>
        
        <button type="submit" class="btn btn-primary" style="width: 100%;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
          </svg>
          Beli via WhatsApp
        </button>
      </form>
    </div>
  `;
  
  const itemSelect = document.getElementById('itemSelect');
  const displayPrice = document.getElementById('displayPrice');
  
  itemSelect.addEventListener('change', () => {
    const item = itemSelect.value;
    if (item) {
      const price = parseItemPrice(item);
      displayPrice.textContent = formatPrice(price);
    } else {
      displayPrice.textContent = formatPrice(product.harga);
    }
  });
  
  document.getElementById('orderForm').addEventListener('submit', (e) => {
    e.preventDefault();
    handleOrder(product);
  });
}

function handleOrder(product) {
  const item = document.getElementById('itemSelect').value;
  const userId = document.getElementById('userIdInput').value;
  const zonaSelect = document.getElementById('zonaSelect');
  const zona = zonaSelect ? zonaSelect.value || '-' : '-';
  const date = document.getElementById('dateInput').value;
  const payment = document.querySelector('input[name="payment"]:checked');
  
  if (!item || !userId || !payment) {
    alert('Mohon lengkapi semua field yang diperlukan');
    return;
  }
  
  const price = parseItemPrice(item);
  const paymentMethod = paymentMethods.find(pm => pm.id === payment.value);
  
  const message = `UVOSHOP ORDER
Produk: ${product.nama}
Item: ${item}
Harga: ${formatPrice(price)}
User ID: ${userId}
Zona: ${zona}
Tanggal: ${date}
Metode Pembayaran: ${paymentMethod.name}

Kirim formulir ini kepada admin UVOSHOP, pesanan akan segera diproses.`;
  
  showPreviewModal(message);
}

function showPreviewModal(message) {
  const modal = document.getElementById('previewModal');
  const modalBody = document.getElementById('modalBody');
  
  modalBody.innerHTML = `<pre>${message}</pre>`;
  modal.classList.remove('hidden');
  
  document.getElementById('copyBtn').onclick = () => {
    navigator.clipboard.writeText(message).then(() => {
      alert('Pesan berhasil disalin!');
    });
  };
  
  document.getElementById('sendWaBtn').onclick = () => {
    const encodedMsg = encodeURIComponent(message);
    const waUrl = `https://wa.me/${CONFIG.WA_NUMBER}?text=${encodedMsg}`;
    window.open(waUrl, '_blank');
  };
}

function initBanner() {
  const slides = document.querySelectorAll('.banner-slide');
  const dotsContainer = document.getElementById('bannerDots');
  
  slides.forEach((_, i) => {
    const dot = document.createElement('button');
    dot.className = `banner-dot ${i === 0 ? 'active' : ''}`;
    dot.setAttribute('aria-label', `Slide ${i + 1}`);
    dot.addEventListener('click', () => goToSlide(i));
    dotsContainer.appendChild(dot);
  });
  
  function updateSlide() {
    slides.forEach((slide, i) => {
      slide.classList.toggle('active', i === currentSlide);
    });
    
    document.querySelectorAll('.banner-dot').forEach((dot, i) => {
      dot.classList.toggle('active', i === currentSlide);
    });
  }
  
  function goToSlide(index) {
    currentSlide = index;
    updateSlide();
    resetInterval();
  }
  
  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    updateSlide();
  }
  
  function prevSlide() {
    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    updateSlide();
  }
  
  function resetInterval() {
    clearInterval(bannerInterval);
    bannerInterval = setInterval(nextSlide, CONFIG.BANNER_INTERVAL);
  }
  
  document.getElementById('bannerNext').addEventListener('click', () => {
    nextSlide();
    resetInterval();
  });
  
  document.getElementById('bannerPrev').addEventListener('click', () => {
    prevSlide();
    resetInterval();
  });
  
  const carousel = document.getElementById('bannerCarousel');
  carousel.addEventListener('mouseenter', () => clearInterval(bannerInterval));
  carousel.addEventListener('mouseleave', resetInterval);
  
  let touchStartX = 0;
  let touchEndX = 0;
  
  carousel.addEventListener('touchstart', (e) => {
    touchStartX = e.changedTouches[0].screenX;
  });
  
  carousel.addEventListener('touchend', (e) => {
    touchEndX = e.changedTouches[0].screenX;
    if (touchStartX - touchEndX > 50) {
      nextSlide();
      resetInterval();
    } else if (touchEndX - touchStartX > 50) {
      prevSlide();
      resetInterval();
    }
  });
  
  bannerInterval = setInterval(nextSlide, CONFIG.BANNER_INTERVAL);
}

function initRouter() {
  function handleRoute() {
    const hash = window.location.hash.slice(1);
    
    if (hash.startsWith('product?id=')) {
      const id = hash.split('=')[1];
      renderProductDetail(id);
    } else {
      document.getElementById('homeView').classList.remove('hidden');
      document.getElementById('productView').classList.add('hidden');
    }
  }
  
  window.addEventListener('hashchange', handleRoute);
  handleRoute();
}

function initEventListeners() {
  document.getElementById('logoLink').href = window.location.origin + window.location.pathname;
  document.getElementById('logoImg').src = CONFIG.LOGO_URL;
  
  const searchInput = document.getElementById('searchInput');
  const debouncedSearch = debounce((query) => searchProducts(query), CONFIG.SEARCH_DEBOUNCE);
  searchInput.addEventListener('input', (e) => debouncedSearch(e.target.value));
  
  document.getElementById('sortSelect').addEventListener('change', (e) => {
    currentSort = e.target.value;
    filterProducts();
    renderProducts();
  });
  
  document.getElementById('rekomToggle').addEventListener('change', (e) => {
    showRekomOnly = e.target.checked;
    filterProducts();
    renderProducts();
  });
  
  document.getElementById('backBtn').addEventListener('click', () => {
    window.location.hash = '';
  });
  
  document.getElementById('modalClose').addEventListener('click', () => {
    document.getElementById('previewModal').classList.add('hidden');
  });
  
  document.getElementById('modalOverlay').addEventListener('click', () => {
    document.getElementById('previewModal').classList.add('hidden');
  });
  
  document.getElementById('currentYear').textContent = new Date().getFullYear();
}

async function init() {
  const data = await fetchProducts();
  if (!data || !data.products) return;
  
  products = data.products;
  filteredProducts = products;
  
  renderCategories();
  renderProducts();
  initBanner();
  initRouter();
  initEventListeners();
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}
</script>

<script type="application/json" id="uvoshop-data">
{
  "products": [
    {
      "id": "uvo-ff-70",
      "nama": "UC Free Fire 70DM",
      "harga": "10000",
      "gambar": "https://placehold.co/400x300/0b74ff/ffffff/png?text=FF+70DM",
      "kategori": "Free Fire",
      "items": ["70dm-10k","100dm-15k","200dm-28k","400dm-55k"],
      "zona": ["Asia","Europe"],
      "rekomendasi": true
    },
    {
      "id": "uvo-ml-100",
      "nama": "Diamond Mobile Legends 100",
      "harga": "15000",
      "gambar": "https://placehold.co/400x300/ff7a59/ffffff/png?text=ML+100",
      "kategori": "Mobile Legends",
      "items": ["100dm-15k","200dm-28k","500dm-70k","1000dm-140k"],
      "zona": [],
      "rekomendasi": false
    },
    {
      "id": "uvo-pulsa-50k",
      "nama": "Pulsa 50.000",
      "harga": "50000",
      "gambar": "https://placehold.co/400x300/222222/ffffff/png?text=PULSA+50K",
      "kategori": "Pulsa",
      "items": ["50k-50k","100k-100k","200k-200k"],
      "zona": [],
      "rekomendasi": false
    },
    {
      "id": "uvo-garena-70",
      "nama": "Garena Shell 70",
      "harga": "11000",
      "gambar": "https://placehold.co/400x300/0b74ff/ffffff/png?text=Garena+70",
      "kategori": "Garena",
      "items": ["70-11k","140-22k","280-44k"],
      "zona": [],
      "rekomendasi": true
    },
    {
      "id": "uvo-topup-ovo",
      "nama": "TopUp OVO Saldo 50k",
      "harga": "50000",
      "gambar": "https://placehold.co/400x300/ff7a59/ffffff/png?text=OVO+50K",
      "kategori": "E-Wallet",
      "items": ["50k-50k","100k-100k","200k-200k"],
      "zona": [],
      "rekomendasi": false
    },
    {
      "id": "uvo-bca-va-1",
      "nama": "BCA Virtual Account - Test",
      "harga": "1000",
      "gambar": "https://placehold.co/400x300/00a86b/ffffff/png?text=BCA+VA",
      "kategori": "Virtual Account",
      "items": ["1k-1k","5k-5k","10k-10k"],
      "zona": [],
      "rekomendasi": false
    },
    {
      "id": "uvo-ml-500",
      "nama": "Diamond Mobile Legends 500",
      "harga": "70000",
      "gambar": "https://placehold.co/400x300/9b59b6/ffffff/png?text=ML+500",
      "kategori": "Mobile Legends",
      "items": ["500dm-70k","1000dm-140k","1500dm-210k"],
      "zona": [],
      "rekomendasi": true
    },
    {
      "id": "uvo-ff-500",
      "nama": "UC Free Fire 500DM",
      "harga": "60000",
      "gambar": "https://placehold.co/400x300/e74c3c/ffffff/png?text=FF+500DM",
      "kategori": "Free Fire",
      "items": ["500dm-60k","1000dm-120k","2000dm-240k"],
      "zona": ["Asia","Europe","Americas"],
      "rekomendasi": false
    }
  ]
}
</script>
</body>
</html>
